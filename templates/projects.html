{% extends "base.html" %}
{% block title %}Projects - Jiří Pavelka{% endblock %}

{% block extra_head %}
<style>
.page-header {
    background: linear-gradient(135deg, var(--dark-primary) 0%, var(--dark-secondary) 100%);
    padding: var(--spacing-3xl) 0 var(--spacing-2xl);
    text-align: center;
    margin-top: var(--header-height);
}

.page-header .hero-title {
    font-size: 3rem;
    margin-bottom: var(--spacing-md);
}

.page-header .hero-subtitle {
    font-size: 1.2rem;
    color: var(--text-secondary);
}

/* Featured Project Styles */
.featured-project-card {
    background: linear-gradient(135deg, var(--dark-secondary) 0%, var(--dark-primary) 100%);
    border: 2px solid var(--accent-orange);
    margin-bottom: var(--spacing-2xl);
    position: relative;
    overflow: hidden;
}

.featured-project-card::before {
    content: "MAIN PROJECT";
    position: absolute;
    top: var(--spacing-sm);
    right: var(--spacing-sm);
    background: var(--accent-orange);
    color: var(--dark-primary);
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: var(--font-weight-bold);
    letter-spacing: 1px;
    z-index: 2;
}

.featured-content {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: var(--spacing-xl);
    align-items: center;
    padding: var(--spacing-xl);
}

.featured-text h3 {
    font-size: 2rem;
    margin-bottom: var(--spacing-md);
    color: var(--accent-orange);
}

.featured-text p {
    font-size: 1.1rem;
    line-height: 1.7;
    margin-bottom: var(--spacing-lg);
    color: var(--text-secondary);
}

.featured-visual {
    text-align: center;
    padding: var(--spacing-xl);
}

.server-icon {
    font-size: 4rem;
    margin-bottom: var(--spacing-md);
    opacity: 0.8;
}

.haicome-logo {
    max-width: 200px;
    height: auto;
    margin-bottom: var(--spacing-md);
    border-radius: 8px;
    filter: drop-shadow(0 10px 20px rgba(255, 69, 0, 0.3));
}

.featured-status {
    color: var(--success-green);
    font-weight: var(--font-weight-medium);
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* Regular project grid */
.projects-grid {
    gap: var(--spacing-xl);
}

.project-image {
    height: 250px;
    overflow: hidden;
    border-radius: 8px;
    margin-bottom: var(--spacing-md);
}

.project-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.project-tech {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-xs);
    margin: var(--spacing-md) 0;
}

.tech-tag {
    background: var(--primary-red);
    color: var(--pure-white);
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 0.8rem;
    font-weight: var(--font-weight-medium);
}

.project-links {
    display: flex;
    gap: var(--spacing-sm);
    margin-top: var(--spacing-md);
}

.project-card {
    transition: all var(--transition-normal);
    cursor: pointer;
}

.project-card:hover {
    transform: translateY(-8px);
}

.empty-state {
    text-align: center;
    padding: var(--spacing-3xl) 0;
}

.empty-content h3 {
    margin-bottom: var(--spacing-md);
    color: var(--text-secondary);
}

@media (max-width: 768px) {
    .projects-grid {
        grid-template-columns: 1fr;
    }
    
    .page-header .hero-title {
        font-size: 2.5rem;
    }
    
    .featured-content {
        grid-template-columns: 1fr;
        text-align: center;
        padding: var(--spacing-lg); /* Reduced padding on mobile */
    }
    
    .featured-text h3 {
        font-size: 1.5rem;
    }
    
    .featured-text p {
        font-size: 1rem; /* Slightly smaller text on mobile */
        line-height: 1.6;
    }
    
    .featured-visual {
        padding: var(--spacing-md); /* Reduced padding on mobile */
    }
    
    .haicome-logo {
        max-width: 150px; /* Smaller logo on mobile */
    }
    
    .project-tech {
        justify-content: center; /* Center tech tags on mobile */
    }
    
    .project-links {
        flex-direction: column;
        align-items: center; /* Center buttons on mobile */
    }
    
    .project-links .btn {
        width: 100%; /* Full width buttons on mobile */
        max-width: 200px;
    }
}

@media (max-width: 480px) {
    .featured-project-card {
        margin-bottom: var(--spacing-xl);
    }
    
    .featured-content {
        padding: var(--spacing-md);
    }
    
    .featured-text h3 {
        font-size: 1.3rem;
    }
    
    .haicome-logo {
        max-width: 120px;
    }
    
    .project-tech .tech-tag {
        font-size: 0.75rem;
        padding: 3px 6px;
    }
}
</style>
{% endblock %}

{% block content %}
<section class="page-header">
    <div class="container">
        <h1 class="hero-title">My Projects</h1>
        <p class="hero-subtitle">A showcase of my technical work and creative endeavors</p>
    </div>
</section>

<!-- Featured Project Section -->
<section class="featured-project section">
    <div class="container">
        <h2 class="section-title reveal-section">Featured Project</h2>
        <div class="featured-project-card card reveal-section">
            <div class="featured-content">
                <div class="featured-text">
                    <h3>Haicome - Personal Infrastructure Platform</h3>
                    <p>A comprehensive personal server infrastructure featuring complete RAID configuration, Docker containerization, web hosting capabilities, game servers, and home cloud solutions. This project represents my expertise in system administration, networking, and infrastructure management.</p>
                    <div class="project-tech">
                        <span class="tech-tag">Linux Ubuntu</span>
                        <span class="tech-tag">Docker</span>
                        <span class="tech-tag">RAID Configuration</span>
                        <span class="tech-tag">Networking</span>
                        <span class="tech-tag">DNS Management</span>
                        <span class="tech-tag">Web Hosting</span>
                        <span class="tech-tag">System Administration</span>
                    </div>
                    <div class="project-links">
                        <a href="https://haicome.net" target="_blank" class="btn btn-primary" rel="noopener">
                            <span>Visit Haicome</span>
                        </a>
                    </div>
                </div>                <div class="featured-visual">
                    <img src="{{ url_for('static', filename='images/logo_trans.png') }}" alt="Haicome Logo" class="haicome-logo">
                    <p class="featured-status">Live Infrastructure</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="projects-listing section">
    <div class="container">
        <h2 class="section-title reveal-section">Other Projects</h2>
        {% if projects %}
        <div class="projects-grid grid grid-2 stagger-container">
            {% for project in projects %}
            <div class="project-card card stagger-item">
                {% if project.image_url %}
                <div class="project-image">
                    <img src="{{ project.image_url }}" alt="{{ project.title }}" loading="lazy">
                </div>
                {% endif %}
                <div class="project-content">
                    <h3 class="project-title">{{ project.title }}</h3>
                    <p class="project-description">{{ project.description }}</p>
                    {% if project.technologies %}
                    <div class="project-tech">
                        {% for tech in project.technologies.split(',') %}
                        <span class="tech-tag">{{ tech.strip() }}</span>
                        {% endfor %}
                    </div>
                    {% endif %}
                    <div class="project-links">
                        {% if project.github_url %}
                        <a href="{{ project.github_url }}" target="_blank" class="btn btn-outline" rel="noopener">
                            <span>View Code</span>
                        </a>
                        {% endif %}
                        {% if project.live_url %}
                        <a href="{{ project.live_url }}" target="_blank" class="btn btn-primary" rel="noopener">
                            <span>Live Demo</span>
                        </a>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <!-- Fallback with sample projects when no database projects exist -->
        <div class="projects-grid grid grid-2 stagger-container">
            <div class="project-card card stagger-item">
                <div class="project-content">
                    <h3>Lunox Discord Bot</h3>
                    <p>A comprehensive Discord bot built with Python, featuring community management tools, entertainment commands, and database integration for persistent data storage.</p>
                    <div class="project-tech">
                        <span class="tech-tag">Python</span>
                        <span class="tech-tag">Discord.py</span>
                        <span class="tech-tag">SQLite</span>
                        <span class="tech-tag">Async Programming</span>
                    </div>
                    <div class="project-links">
                        <a href="https://github.com/PureGolded/Lunox" target="_blank" class="btn btn-outline" rel="noopener">
                            <span>View Code</span>
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="project-card card stagger-item">
                <div class="project-content">
                    <h3>Minecraft Server Network</h3>
                    <p>Custom Java plugins developed using Spigot API to enhance multiplayer gameplay. Features include custom game mechanics, player management, and database integration.</p>
                    <div class="project-tech">
                        <span class="tech-tag">Java</span>
                        <span class="tech-tag">Spigot API</span>
                        <span class="tech-tag">MySQL</span>
                        <span class="tech-tag">Plugin Development</span>
                    </div>
                </div>
            </div>
            
            <div class="project-card card stagger-item">
                <div class="project-content">
                    <h3>Portfolio Website</h3>
                    <p>This responsive portfolio website built with Flask, featuring modern dark theme design, smooth animations, and GSAP-powered scroll effects.</p>
                    <div class="project-tech">
                        <span class="tech-tag">Python Flask</span>
                        <span class="tech-tag">HTML/CSS/JS</span>
                        <span class="tech-tag">SQLAlchemy</span>
                        <span class="tech-tag">GSAP</span>
                        <span class="tech-tag">Responsive Design</span>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
// Projects page uses the unified animation system
document.addEventListener('DOMContentLoaded', function() {
    console.log('Projects page loaded - animations handled by unified system');
    
    // Add hover animation to Haicome logo
    const haicomeLogo = document.querySelector('.haicome-logo');
    
    if (haicomeLogo) {
        haicomeLogo.addEventListener('mouseenter', () => {
            gsap.to(haicomeLogo, {
                scale: 1.05,
                rotation: 2,
                filter: 'drop-shadow(0 15px 30px rgba(255, 69, 0, 0.5))',
                duration: 0.4,
                ease: "power2.out"
            });
        });
        
        haicomeLogo.addEventListener('mouseleave', () => {
            gsap.to(haicomeLogo, {
                scale: 1,
                rotation: 0,
                filter: 'drop-shadow(0 10px 20px rgba(255, 69, 0, 0.3))',
                duration: 0.4,
                ease: "power2.out"
            });
        });
    }
});
</script>
{% endblock %}
